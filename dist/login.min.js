window.addEventListener("load",()=>{const a=document.getElementById("email-form");a&&a.addEventListener("submit",async()=>{try{const b={email:"",password:""},c=a.querySelector(`input[name="name"]`);c&&(b.email=c.value);const d=a.querySelector(`input[name="Password"]`);d&&(b.password=d.value),console.log(JSON.stringify(b));const e=await fetch(`${baseUrl}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b),credentials:"include"}),f=await e.json();if(f.status)localStorage.setItem("__user_data",JSON.stringify(f.data)),setTimeout(()=>{window.location.pathname="/dashboard"},1e3);else throw new Error(f.msg)}catch(a){console.error(a)}})});