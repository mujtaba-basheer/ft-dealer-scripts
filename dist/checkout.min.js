window.addEventListener("load",()=>{const a=new Cart,b=document.getElementById("email-form");b&&b.addEventListener("submit",async c=>{c.preventDefault(),c.stopImmediatePropagation();const d={name:"",email:"",address:"",city:"",state:"",zip_code:"",phone:""},e=b.querySelector(`input[name="name"]`);e&&(d.name=e.value);const f=b.querySelector(`input[name="email"]`);f&&(d.email=f.value);const g=b.querySelector(`input[name="Address"]`);g&&(d.address=g.value);const h=b.querySelector(`input[name="City"]`);h&&(d.city=h.value);const i=b.querySelector(`select[name="State"]`);i&&(d.state=i.value);const j=b.querySelector(`input[name="ZIP"]`);j&&(d.zip_code=j.value);const k=b.querySelector(`input[name="Phone"]`);k&&(d.phone=k.value);const l=JSON.stringify(Object.assign(Object.assign({},d),{item:a.items}));try{a.setBillingDetails(d);const b=await fetch("https://hook.integromat.com/zay4ujxycahirtitrmdqt9iynpr8r4yr",{method:"POST",headers:{"Content-Type":"application/json"},body:l});await b.json(),window.location.pathname="/thankyou"}catch(a){console.error(a)}})});