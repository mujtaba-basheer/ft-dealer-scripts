window.addEventListener("load",()=>{const a=new Admin,b=a.announcement||{type:"general",title:"",text:""},c=document.querySelector("div.scrim-block.announcement"),d=document.querySelector("div.announce-main-wrapper.success-state"),e=document.getElementById("email-form");if(e){e.reset();const d=e.querySelector(`select[name="Announcement"]`),f=e.querySelector(`input[name="Title"]`),g=e.querySelector(`textarea[name="Body"]`),h=e.querySelector("div.announcement-banner");d&&f&&g&&h?(d.addEventListener("change",()=>{const a=d.value;switch(a){case"General Announcement":{h.classList.remove("warning"),h.classList.add("general"),h.querySelector("img.general-icon").style.display="",h.querySelector("img.warning-icon").style.display="none",b.type="general";break}case"Warning":{h.classList.remove("general"),h.classList.add("warning"),h.querySelector("img.general-icon").style.display="none",h.querySelector("img.warning-icon").style.display="inherit",b.type="warning";break}default:{h.classList.remove("warning"),h.classList.add("general"),h.querySelector("img.general-icon").style.display="",h.querySelector("img.warning-icon").style.display="none",b.type="general";break}}}),f.addEventListener("input",()=>{const a=f.value,c=h.querySelector("div.general-announcement-text");c&&(c.textContent=a,b.title=a)}),g.addEventListener("input",()=>{const a=g.value,c=h.querySelector("div.general-announcement-text.regular");c&&(c.textContent=a,b.text=a)}),e.addEventListener("submit",a=>{a.preventDefault(),a.stopImmediatePropagation(),b.title&&b.text&&(c.style.display="flex",$(c).animate({opacity:1},200))}),e.addEventListener("reset",()=>{})):a.logError("Edit elements absent!")}if(c){const a=c.querySelector("a.button.secondary.w-button");a.addEventListener("click",a=>{a.preventDefault(),$(c).animate({opacity:0},500,()=>{c.style.display="none",d.style.display="block";const a=d.querySelector("div.announcement-banner");a.classList.add(b.type);const e=a.querySelector("div.general-announcement-text");e&&(e.textContent=b.title);const f=a.querySelector("div.general-announcement-text.regular");switch(f&&(f.textContent=b.text),b.type){case"general":{a.querySelector("img.general-icon").style.display="",a.querySelector("img.warning-icon").style.display="none";break}case"warning":{a.querySelector("img.general-icon").style.display="none",a.querySelector("img.warning-icon").style.display="inline-block";break}default:{a.querySelector("img.general-icon").style.display="",a.querySelector("img.warning-icon").style.display="none";break}}})})}if(d){const b=d.querySelector("a.button.secondary");b.addEventListener("click",b=>{b.preventDefault(),d.style.display="none",e.reset(),a.removeAnnouncement()})}});